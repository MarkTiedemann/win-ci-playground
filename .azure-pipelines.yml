jobs:
  - job: vs2017
    pool:
      vmImage: vs2017-win2016
    steps:
      - checkout: self
        clean: true
        lfs: false
        fetchDepth: 1
        submodules: false
      - powershell: gp 'HKLM:\SOFTWARE\Microsoft\Windows NT\CurrentVersion'
        displayName: Print operating system infos
      - powershell: 'ls env:'
        displayName: Print environment variables
      - powershell: $env:path -split ';' | % { ls $_\*.exe -ea:silentlycontinue | % { $_.fullname } } | sort
        displayName: Print available binaries
      - powershell: .\vs.ps1
        displayName: Print installed VS packages
      - powershell: ls 'C:\Program Files (x86)\Microsoft SDKs\Windows'
        displayName: List Windows SDKs
      - powershell: ls 'C:\Program Files (x86)\Windows Kits'
        displayName: List Windows Kits
  - job: vs2019
    pool:
      vmImage: windows-2019
    steps:
      - checkout: self
        clean: true
        lfs: false
        fetchDepth: 1
        submodules: false
      - powershell: gp 'HKLM:\SOFTWARE\Microsoft\Windows NT\CurrentVersion'
        displayName: Print operating system infos
      - powershell: 'ls env:'
        displayName: Print environment variables
      - powershell: $env:path -split ';' | % { ls $_\*.exe -ea:silentlycontinue | % { $_.fullname } } | sort
        displayName: Print available binaries
      - powershell: .\vs.ps1
        displayName: Print installed VS packages
      - powershell: ls 'C:\Program Files (x86)\Microsoft SDKs\Windows'
        displayName: List Windows SDKs
      - powershell: ls 'C:\Program Files (x86)\Windows Kits'
        displayName: List Windows Kits
